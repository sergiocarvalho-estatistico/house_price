knitr::opts_chunk$set(echo = TRUE,
eval = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
fig.path = "figures/",
fig.width = 15,
fig.height = 6)
suppressMessages(library(MASS))
suppressMessages(library(tidyverse))
suppressMessages(library(readr))
suppressMessages(library(dplyr))
suppressMessages(library(data.table))
suppressMessages(library(readxl))
suppressMessages(library(ggplot2))
suppressMessages(library(plotly))
suppressMessages(library(scales))
suppressMessages(library(lubridate))
suppressMessages(library(reshape))
# Read table
df.train <- data.table::fread('../dados/train.csv',
sep=",",
showProgress = FALSE) %>%
data.frame(stringsAsFactors = F)
df.train
str(df.train)
tipo <- lapply(df.train,class)
df.int <- df.train[,unlist(tipo) %in% "integer"]
df.int
df.str <- df.train[,unlist(tipo) %in% "character"]
df.str
df.cat <- lapply(df.str,factor) %>% data.frame()
df.cat
apply(is.na(df.int),2,
function(x) round(100*sum(as.numeric(x))/length(x),2)) %>%
sort(decreasing = T)
missing <- apply(is.na(df.cat),2,function(x){
nulos <-100*sum(as.numeric(x))/length(x)
round(nulos,2)
}) %>%
sort(decreasing = T)
missing
df.int <- df.int %>%
select(-LotFrontage)
df.int
df.cat <- df.cat %>%
select(-PoolQC,-MiscFeature,
-Alley,-Fence,-FireplaceQu)
df.cat
df.train <- bind_cols(df.int,df.cat)
df.train
paste(round(100*(1-(nrow(na.omit(df.train))/nrow(df.train))),2),"%")
df.train <- na.omit(df.train)
df.train
df.test <- data.table::fread('../dados/test.csv',
sep=",",
showProgress = FALSE)  %>%
data.frame(stringsAsFactors = F)
df.test
